generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
}

model Member {
  id              String        @id @default(uuid())
  memberNumber    String        @unique
  nationalId      String        @unique
  fullNameAr      String
  fullNameEn      String
  governorate     String
  entityType      EntityType
  entityLevel     EntityLevel
  entityName      String?
  role            String
  profileImage    String
  paymentMethod   PaymentMethod
  coordinatorName String?
  instapayRef     String?
  qrCode          String
  createdAt       DateTime      @default(now())
  updatedAt       DateTime      @updatedAt
}

// Counter for generating sequential member numbers per governorate
model MemberCounter {
  id        String @id
  prefix    String @unique
  counter   Int    @default(5000)
}

enum EntityType {
  unit
  committee
}

enum EntityLevel {
  central
  governorate
}

model Admin {
  id        String   @id @default(uuid())
  email     String   @unique
  password  String
  name      String   @default("مدير النظام")
  createdAt DateTime @default(now())
}

enum PaymentMethod {
  coordinator
  instapay
}

model Settings {
  id               String   @id @default("default")
  platformName     String   @default("عضويتي")
  platformSubtitle String   @default("اتحاد بشبابها")
  logoUrl          String?
  primaryColor     String   @default("#1e3a5f")
  membershipFee    Float    @default(0)
  instapayNumber   String?
  instapayName     String?
  enableRegistration Boolean @default(true)
  updatedAt        DateTime @updatedAt
}
